## Програмування безпечної міжпроцесної та міжпотокової взаємодії в Unix-подібних ОС

### 2.1 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму «Змінні блокування»

<img width="638" height="932" alt="image" src="https://github.com/user-attachments/assets/95290459-5aa5-44d9-8fa9-1b34732f5518" />

рис. 1 - фрагмент екрану з рішенням завдання 2.1.1 "В лабораторній роботі No10 було використано таблицю реляційної бази даних. Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням алгоритму «Змінні блокування» створити С-програму за прикладом на рисунку 14 та назвою за шаблоном
«db_lockvars_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- структури даних роботи алгоритму «Змінні блокування» в програмному коді потокових функцій;
- кожна функція повинна: 
o спочатку виконати операцію читання значення будь-якого елемента структури; 
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- функції затримки для імітації паралельної роботи потоків."

<img width="939" height="448" alt="image" src="https://github.com/user-attachments/assets/f3b8eadd-e02a-4f4b-8a7a-b9e3cfc9c1ea" />

рис. 2 - фрагмент екрану з рішенням завдання 2.1.2 "Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків."

**Висновок:** З аналізу виконання програми можна зробити висновок, що тут наявні змагання потоків. Оскільки обидва потоки мають доступ до спільної змінної і змінюють її значення, виникає конфлікт при одночасному доступі до неї. Тобто обидва процеси входять у критичну секцію.

### 2.2 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму «Строге чергування»

<img width="602" height="890" alt="image" src="https://github.com/user-attachments/assets/b39f072b-159f-4e79-9492-0796efc3837d" />

рис. 3 - фрагмент екрану з рішенням завдання 2.2.1 "Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням алгоритму «Строге чергування» створити С-програму з назвою за шаблоном «db_strictwatching_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- структури даних роботи алгоритму «Строге чергування» в програмному коді потокових функцій;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- функції затримки для імітації паралельної роботи потоків."

<img width="1049" height="458" alt="image" src="https://github.com/user-attachments/assets/841ac7d2-d0e8-4676-8075-ac84d5ff90ab" />

рис. 4 - фрагмент екрану з рішенням завдання 2.2.2 "Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків."

**Висновок:** Кожен потік спочатку читає значення "name", а потім змінює його і ці зміни виконуються почергово: спочатку T1, а потім T2. Це означає, що у цьому прикладі відсутні змагання потоків за доступ до структурної змінної. Кожен потік чекає, доки попередній потік завершить свою роботу зі структурною змінною, перш ніж він сам почне свою роботу. Це є яскравим прикладом алгоритму "Строге чергування"

### 2.3 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму Петерсона

<img width="629" height="858" alt="image" src="https://github.com/user-attachments/assets/edffcfc0-84e3-42d6-801d-8b404c1842a9" />

рис. 5 - фрагмент екрану з рішенням завдання 2.3.1 "Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням алгоритму Петерсона створити С-програму з назвою за шаблоном «db_peterson_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- структури даних роботи алгоритму Петерсона в програмному коді потокових функцій;
- функції затримки для імітації паралельної роботи потоків."

<img width="925" height="459" alt="image" src="https://github.com/user-attachments/assets/cd978534-c6a3-4c3a-a67b-0de6b3706728" />

рис. 6 - фрагмент екрану з рішенням завдання 2.3.2 "Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків."

**Висновок:** За результатами виконання програми видно, що потоки послідовно виконують свою роботу за допомогою алгоритму Петерсона. І тому тут відсутні змагання потоків.

### 2.4 Аналіз наявності змагань у міжпотоковій взаємодії на основі двійкового семафору

<img width="646" height="768" alt="image" src="https://github.com/user-attachments/assets/e9ab31c6-1fc7-4e11-9581-bf8a22d50961" />

<img width="623" height="272" alt="image" src="https://github.com/user-attachments/assets/2aacdbbf-d7a2-44b3-ad64-3e82f4e746f9" />

рис. 7, 8 - фрагмент екрану з рішенням завдання "2.4.1 Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням двійкового семафору створити С-програму з назвою за шаблоном «db_semaphore2_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- назва семафору співпадає з вашим прізвищем транслітерацією;
- права доступу при відкритті семафору = можна читати, писати та виконувати власнику та групі власника;
- функції керування семафором;
- функції затримки для імітації паралельної роботи потоків."

<img width="956" height="751" alt="image" src="https://github.com/user-attachments/assets/18e5088f-fc52-4929-b843-c7c384781e84" />

рис. 9 - фрагмент екрану з рішенням завдання "2.4.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків."

**Висновок:** За результатами виконання коду, можна зробити висновок, що використання двійкового семафору успішно допомогло уникнути змагань між потоками.  Бо потоки T1 і T2 виконують свої завдання послідовно та без перетину один з одним. 

### 2.5 Аналіз наявності змагань у міжпотоковій взаємодії на основі м’ютексу

<img width="585" height="818" alt="image" src="https://github.com/user-attachments/assets/2de3be6a-9ab4-42dd-8067-45f860324403" />

рис. 10 - фрагмент екрану з рішенням завдання 2.5.1 "Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням м’ютексу створити С-програму з назвою за шаблоном «db_mutex_ваше_прізвище.c»:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- функції керування м’ютексом;
- функції затримки для імітації паралельної роботи потоків."

<img width="912" height="448" alt="image" src="https://github.com/user-attachments/assets/9884e593-5365-4d8a-8be6-6f9e8c52f67d" />

рис. 11 - фрагмент екрану з рішенням завдання 2.5.2 "Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків."

**Висновок:** Змагання потоків у цій програмі відсутні. Під час виконання програми можна побачити, що потоки T1 та T2 виконують свої завдання по черзі. Це свідчить про те, що м'ютекс успішно виконує своє завдання взаємного виключення і дозволяє тільки одному потоку отримати доступ до критичної секції коду одночасно. 

